<form
  [formGroup]="form"
  class="col-11 mx-auto bg-secondary bg-opacity-10 p-5 rounded shadow mb-4"
>
  <!-- Row for name, ethnic group, occupation, and year of event -->
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 m-3">
    <!-- col for name selection -->
    <div class="col">
      <div>
        <label for="Name" class="form-label"
          >Name <span class="text-danger">*</span></label
        >
        <input
          type="text"
          class="form-control"
          id="Name"
          formControlName="name"
          placeholder="First and Last name"
        />
      </div>
      <div class="my-2" *ngIf="isAdmin">
        <label for="otherName" class="form-label"
          >Other Name <span class="text-danger">*</span></label
        >
        <input
          type="text"
          class="form-control"
          id="otherName"
          formControlName="otherName"
          placeholder="First and Last name"
        />
      </div>
    </div>
    <!-- col for birth year -->
    <div class="col">
      <label for="birthYear" class="form-label"
        >Birth year <span class="text-danger">*</span></label
      >
      <!-- year selector -->
      <input
        [bsConfig]="{
          startView: 'year',
          minMode: 'year',
          dateInputFormat: 'YYYY',
          showClearButton: true
        }"
        bsDatepicker
        class="form-control"
        placeholder="Year"
        autocomplete="off"
        formControlName="birthYear"
      />
    </div>
    <!-- col for occupation -->
    <div class="col">
      <div>
        <label for="occupation" class="form-label"
          >Occupation <span class="text-danger">*</span></label
        >
        <!-- occupation typeahead -->
        <input
          type="text"
          class="form-control"
          id="occupation"
          formControlName="occupation"
          placeholder="Occupation"
        />
      </div>

      <div class="my-2" *ngIf="isAdmin">
        <label for="otherOccupation" class="form-label"
          >Other Occupation <span class="text-danger">*</span></label
        >
        <input
          type="text"
          class="form-control"
          id="otherOccupation"
          formControlName="otherOccupation"
          placeholder="Other Occupation"
        />
      </div>
    </div>
    <!-- col for year of event -->
    <div class="col">
      <label for="Year" class="form-label"
        >Rightist Year <span class="text-danger">*</span></label
      >
      <!-- year selector -->
      <input
        [bsConfig]="{
          startView: 'year',
          minMode: 'year',
          dateInputFormat: 'YYYY',
          showClearButton: true
        }"
        bsDatepicker
        class="form-control"
        placeholder="Year"
        autocomplete="off"
        formControlName="rightistYear"
      />
    </div>
  </div>

  <!-- Row containing gender, status, and clear buttons -->
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 m-3">
    <!-- col for ethnic group -->
    <div class="col">
      <label for="ethnicGroup" class="form-label">Chinese Ethnic Group</label>
      <!-- ethnic group dropdown -->
      <select
        (change)="onEthnicChange($event)"
        formControlName="ethnic"
        class="form-select"
      >
        <option disabled selected value> -- select an option -- </option>
        <option *ngFor="let ethnic of ethnicGroup">
          {{ ethnic }}
        </option>
      </select>
      <div *ngIf="isAdmin">
        <input readonly formControlName="otherEthnic" class="form-control" />
      </div>
    </div>

    <!-- col for gender selection -->
    <fieldset class="col">
      <legend class="h6 fw-normal">Gender</legend>

      <div
        class="form-check form-check-inline"
        *ngFor="let gender of genders; let i = index"
      >
        <input
          (change)="onGenderChange($event, i)"
          class="form-check-input"
          formControlName="gender"
          [value]="gender"
          type="radio"
          name="gender"
          [id]="gender"
        />
        <label class="form-check-label" [for]="gender">{{ gender }}</label>
      </div>
      <fieldset *ngIf="isAdmin" disabled class="col">
        <div
          class="form-check form-check-inline"
          *ngFor="let gender of otherGenders; let i = index"
        >
          <input
            class="form-check-input"
            formControlName="otherGender"
            [value]="gender"
            type="radio"
            name="otherGender"
            [id]="gender"
          />
          <label class="form-check-label" [for]="gender">{{ gender }}</label>
        </div>
      </fieldset>
    </fieldset>

    <!-- Status -->
    <fieldset class="col">
      <legend class="h6 fw-normal">Status</legend>

      <div
        class="form-check form-check-inline"
        *ngFor="let status of statuses; let i = index"
      >
        <input
          (change)="onStatusChange($event, i)"
          class="form-check-input"
          formControlName="status"
          [value]="status"
          type="radio"
          name="status"
          [id]="status"
        />
        <label class="form-check-label" [for]="status">{{ status }}</label>
      </div>
      <fieldset *ngIf="isAdmin" disabled class="col">
        <div
          class="form-check form-check-inline"
          *ngFor="let status of otherStatuses; let i = index"
        >
          <input
            class="form-check-input"
            formControlName="otherStatus"
            [value]="status"
            type="radio"
            name="otherStatus"
            [id]="status"
          />
          <label class="form-check-label" [for]="status">{{ status }}</label>
        </div>
      </fieldset>
    </fieldset>
  </div>
  <div class="d-flex">
    <button
      type="button"
      class="btn btn-lg btn-outline-dark rounded-pill ms-auto px-4"
      (click)="clear()"
      [ngClass]="{ invisible: page == 'contribution' }"
    >
      Clear
    </button>
  </div>
</form>
